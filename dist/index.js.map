{"version":3,"file":"index.js","sources":["../src/constants/classes.ts","../src/constants/keys.ts","../src/utils/get-children-array.ts","../src/utils/get-random-id.ts","../src/interfaces.ts","../src/index.ts"],"sourcesContent":["type jsClassType = `js--${string}`;\r\n\r\nexport interface ClassesModel {\r\n  [key: string]: jsClassType;\r\n}\r\n\r\nexport const CLASSES: ClassesModel = {\r\n\tACTIVE: 'js--active',\r\n\tUNACTIVE: 'js--unactive',\r\n\tVISIBLE: 'js--visible',\r\n\tTAB: 'js--tab',\r\n\tPANEL: 'js--panel',\r\n\tTABS_WRAPPER: 'js--tabs-wrapper',\r\n\tTAB_LIST: 'js--tab-list',\r\n\tPANEL_LIST: 'js--panel-list',\r\n};\r\n","export const KEYS = {\r\n\tEND: 'End',\r\n\tHOME: 'Home',\r\n\tLEFT: 'ArrowLeft',\r\n\tUP: 'ArrowUp',\r\n\tRIGHT: 'ArrowRight',\r\n\tDOWN: 'ArrowDown',\r\n\tDELETE: 'Delete',\r\n\tENTER: 'Enter',\r\n\tSPACE: ' ',\r\n};\r\n","export const getChildrenArray = (element: HTMLElement): HTMLElement[] => (element\r\n\t? Array.prototype.slice.call(element.children)\r\n\t: []);\r\n","export const getRandomId = (length: number = 5): string => {\r\n\tlet result = '';\r\n\tconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\tconst charactersLength = characters.length;\r\n\tlet counter = 0;\r\n\twhile (counter < length) {\r\n\t\tresult += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n\t\tcounter += 1;\r\n\t}\r\n\treturn result;\r\n};\r\n","/* eslint-disable no-unused-vars */\r\n\r\nimport { Tabs } from '.';\r\n\r\nexport type OrientationType = 'horizontal' | 'vertical';\r\n\r\nexport interface AutoPlayModel {\r\n\tdelay: number;\r\n}\r\n\r\nexport interface EventsModel {\r\n\t// eslint-disable-next-line no-unused-vars\r\n\ttabChange?: (tabs: Tabs) => void;\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tbeforeInit?: (tabs: Tabs) => void;\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tafterInit?: (tabs: Tabs) => void;\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum TriggerEvents {\r\n\tclick = 'click',\r\n\tmouseover = 'mouseover',\r\n}\r\n\r\nexport interface TabsConfigModel {\r\n\ttabpanelsListSelector?: string;\r\n\ttabbuttonsListSelector?: string;\r\n\tdeletableTabs?: boolean;\r\n\tinitialTab?: number;\r\n\torientation?: OrientationType;\r\n\tequalHeight?: boolean;\r\n\tautoplay?: AutoPlayModel;\r\n\ttriggerEvent?: TriggerEvents;\r\n\ton?: EventsModel;\r\n\tmatchMediaRule?: string;\r\n\tdevMode?: boolean;\r\n}\r\n\r\nexport interface EventDetailsModel {\r\n\ttarget: HTMLElement;\r\n\ttargetButton: HTMLElement;\r\n\ttargetIndex: number | undefined;\r\n\tkey: string | undefined;\r\n\tevent: KeyboardEvent | MouseEvent;\r\n}\r\n\r\nexport interface TabsModel {\r\n\ttabpanelsListSelector: string;\r\n\ttabbuttonsListSelector: string;\r\n\tactiveIndex: number;\r\n\tnextIndex: number | undefined;\r\n\tprevIndex: number | undefined;\r\n\tlastIndex: number | undefined;\r\n\tdeletableTabs: boolean;\r\n\torientation: OrientationType;\r\n\tautoplay: AutoPlayModel;\r\n\tautoplayTimeout: number;\r\n\tlistenersAdded: boolean;\r\n\t// maxPanelHeight: number;\r\n\tgeneratedId: string;\r\n\tequalHeight: boolean;\r\n\ttabsWrapper: HTMLElement;\r\n\ttabButtonsList: HTMLElement | undefined;\r\n\ttabPanelsList: HTMLElement | undefined;\r\n\ttabs: HTMLElement[];\r\n\tpanels: HTMLElement[];\r\n\ton: EventsModel;\r\n\tdefaultRoles: {\r\n\t\t[key: string]: string;\r\n\t};\r\n\tdefaultSelectors: {\r\n\t\t[key: string]: `[role=\"${string}\"]`;\r\n\t};\r\n\tmatchMediaRule: string;\r\n\tisInMatchMedia: boolean;\r\n}\r\n\r\nexport interface GoToNextPreviousProperties {\r\n\tloop?: boolean;\r\n}\r\n","import { CLASSES, KEYS } from './constants/index';\r\n\r\nimport './style.scss';\r\n\r\nimport { getChildrenArray, getRandomId } from './utils/index';\r\nimport {\r\n\tAutoPlayModel,\r\n\tEventDetailsModel,\r\n\tEventsModel,\r\n\tGoToNextPreviousProperties,\r\n\tOrientationType,\r\n\tTabsConfigModel,\r\n\tTriggerEvents,\r\n} from './interfaces';\r\n\r\nexport class Tabs {\r\n\t#tabpanelsListSelector: string;\r\n\t#tabbuttonsListSelector: string;\r\n\tactiveIndex: number;\r\n\tnextIndex: number | undefined;\r\n\tprevIndex: number | undefined;\r\n\tlastIndex: number | undefined;\r\n\t#deletableTabs: boolean;\r\n\torientation: OrientationType;\r\n\ttriggerEvent: TriggerEvents;\r\n\t#autoplay: AutoPlayModel;\r\n\t#autoplayTimeout: number;\r\n\t#listenersAdded: boolean;\r\n\t// #maxPanelHeight: number;\r\n\tgeneratedId: string;\r\n\t#equalHeight: boolean;\r\n\ttabsWrapper: HTMLElement;\r\n\ttabButtonsList: HTMLElement | undefined;\r\n\ttabPanelsList: HTMLElement | undefined;\r\n\ttabs: HTMLElement[];\r\n\tpanels: HTMLElement[];\r\n\ton: EventsModel;\r\n\t#destroyed: boolean;\r\n\t#inited: boolean;\r\n\t#defaultRoles: {\r\n\t\t[key: string]: string;\r\n\t};\r\n\r\n\t#defaultSelectors: {\r\n\t\t[key: string]: `[role=\"${string}\"]`;\r\n\t};\r\n\r\n\tmatchMediaRule: string | undefined;\r\n\tisInMatchMedia: boolean;\r\n\tdevMode: boolean;\r\n\r\n\t// eslint-disable-next-line default-param-last\r\n\tconstructor(\r\n\t\ttabsWrapper: string | HTMLElement = '[data-tabs=\"wrapper\"]',\r\n\t\t{\r\n\t\t\ttabbuttonsListSelector = '[data-tabs=\"tabs\"]',\r\n\t\t\ttabpanelsListSelector = '[data-tabs=\"content\"]',\r\n\t\t\tdeletableTabs = false,\r\n\t\t\tinitialTab = 0,\r\n\t\t\tequalHeight = false,\r\n\t\t\torientation = 'horizontal',\r\n\t\t\ttriggerEvent = TriggerEvents.click,\r\n\t\t\tautoplay = {\r\n\t\t\t\tdelay: 0,\r\n\t\t\t},\r\n\t\t\ton = {},\r\n\t\t\tmatchMediaRule,\r\n\t\t\tdevMode: developmentMode = false,\r\n\t\t}: TabsConfigModel,\r\n\t) {\r\n\t\tthis.#tabpanelsListSelector = tabpanelsListSelector;\r\n\t\tthis.#tabbuttonsListSelector = tabbuttonsListSelector;\r\n\t\tthis.#deletableTabs = deletableTabs;\r\n\t\tthis.tabsWrapper =\r\n\t\t\ttypeof tabsWrapper === 'string' ? (document.querySelector(tabsWrapper) as HTMLElement) : tabsWrapper;\r\n\t\tthis.tabButtonsList = undefined;\r\n\t\tthis.tabPanelsList = undefined;\r\n\t\tthis.tabButtonsList = undefined;\r\n\t\tthis.tabs = [];\r\n\t\tthis.panels = [];\r\n\t\tthis.orientation = orientation === 'vertical' ? 'vertical' : 'horizontal';\r\n\t\tthis.triggerEvent = triggerEvent;\r\n\t\tthis.activeIndex = initialTab;\r\n\t\tthis.nextIndex = undefined;\r\n\t\tthis.prevIndex = undefined;\r\n\t\tthis.lastIndex = undefined;\r\n\t\tthis.#autoplay = autoplay;\r\n\t\tthis.#autoplayTimeout = 0;\r\n\t\tthis.#listenersAdded = false;\r\n\t\tthis.on = on;\r\n\t\tthis.matchMediaRule = matchMediaRule;\r\n\t\tthis.isInMatchMedia = false;\r\n\t\t// this.#maxPanelHeight = 0;\r\n\t\tthis.generatedId = getRandomId();\r\n\t\tthis.#equalHeight = equalHeight;\r\n\t\tthis.#defaultRoles = {\r\n\t\t\ttab: 'tab',\r\n\t\t\ttabpanel: 'tabpanel',\r\n\t\t};\r\n\t\tthis.#defaultSelectors = {\r\n\t\t\ttab: '[role=\"tab\"]',\r\n\t\t\ttabpanel: '[role=\"tabpanel\"]',\r\n\t\t};\r\n\t\tthis.#destroyed = false;\r\n\t\tthis.#inited = false;\r\n\t\tthis.devMode = developmentMode;\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tif (this.devMode) {\r\n\t\t\t// eslint-disable-next-line no-console\r\n\t\t\tconsole.warn(\r\n\t\t\t\t`Tabs dev mode enabled! Instance ID: ${this.generatedId}. Read the docs https://www.npmjs.com/package/@digital-butlers/tabs | В табах включен режим разработчика! ID экземпляра: ${this.generatedId}. Читай документацию https://www.npmjs.com/package/@digital-butlers/tabs`,\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (this.tabsWrapper && !this.#destroyed) {\r\n\t\t\tif (this.on.beforeInit) {\r\n\t\t\t\tthis.on.beforeInit(this);\r\n\t\t\t}\r\n\t\t\tthis.tabButtonsList = this.tabsWrapper.querySelector(this.#tabbuttonsListSelector) as HTMLElement;\r\n\t\t\tthis.tabPanelsList = this.tabsWrapper.querySelector(this.#tabpanelsListSelector) as HTMLElement;\r\n\t\t\tif (this.tabPanelsList) {\r\n\t\t\t\tthis.defineTabsAndPanels();\r\n\r\n\t\t\t\tif (this.panels.length > 0) {\r\n\t\t\t\t\tthis.checkMatchMediaRule();\r\n\t\t\t\t\twindow.addEventListener('resize', this.updateAttributes);\r\n\t\t\t\t\tthis.updateAttributes();\r\n\r\n\t\t\t\t\tif (this.#equalHeight) {\r\n\t\t\t\t\t\tthis.setEqualHeight();\r\n\t\t\t\t\t\twindow.addEventListener('resize', this.setEqualHeight);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!this.#listenersAdded) {\r\n\t\t\t\t\t\tthis.addListenersForTabs();\r\n\t\t\t\t\t\tthis.#listenersAdded = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.#autoplay.delay > 0 && this.isInMatchMedia) {\r\n\t\t\t\t\t\tthis.runAutoPlay();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.devMode) {\r\n\t\t\t\tthrow new Error('Panels not found | Панели не найдены с контентом для табов не найдены');\r\n\t\t\t}\r\n\t\t\tthis.#inited = true;\r\n\t\t\tif (this.isInMatchMedia) {\r\n\t\t\t\tthis.assignTabsAttributes();\r\n\t\t\t\tthis.goTo(this.activeIndex, false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeTabsAttributes();\r\n\t\t\t}\r\n\t\t\tif (this.on.afterInit) {\r\n\t\t\t\tthis.on.afterInit(this);\r\n\t\t\t}\r\n\t\t} else if (!this.tabsWrapper) {\r\n\t\t\tif (this.devMode) {\r\n\t\t\t\tthrow new Error(`Tabs wrapper not found | Обертка табов не найдена`);\r\n\t\t\t}\r\n\t\t} else if (this.#destroyed && this.devMode) {\r\n\t\t\tthrow new Error(`Tabs already destroyed | Табы уже были дестроены`);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setEqualHeight = () => {\r\n\t\tif (this.isInMatchMedia) {\r\n\t\t\tthis.panels.forEach((element) => {\r\n\t\t\t\telement.style.height = 'auto';\r\n\t\t\t});\r\n\t\t\tconst maxHeight = Math.max(...this.panels.map((element) => element.offsetHeight));\r\n\t\t\tthis.panels.forEach((element) => {\r\n\t\t\t\telement.style.height = `${maxHeight}px`;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tpublic goTo = (index: number, setFocus: boolean = true) => {\r\n\t\tif (this.#inited) {\r\n\t\t\tthis.activeIndex = index;\r\n\t\t\tthis.updateProperties();\r\n\t\t\tthis.setUnactiveAll();\r\n\t\t\tthis.setActiveAttributes(index);\r\n\t\t\tthis.setActiveClasses(index);\r\n\t\t\t// Set focus when required\r\n\t\t\tif (setFocus) {\r\n\t\t\t\tthis.focusTab(index);\r\n\t\t\t}\r\n\t\t\tif (this.on.tabChange) {\r\n\t\t\t\tthis.on.tabChange(this);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tpublic goToNext = (properties: GoToNextPreviousProperties = {}) => {\r\n\t\tconst loopProperty = properties ? (properties.loop ?? true) : true;\r\n\t\tif (loopProperty || (this.lastIndex && this.activeIndex < this.lastIndex)) {\r\n\t\t\tthis.goTo(this.nextIndex as number);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic goToPrev = (properties: GoToNextPreviousProperties = {}) => {\r\n\t\tconst loopProperty = properties ? (properties.loop ?? true) : true;\r\n\t\tif (loopProperty || this.activeIndex > 0) {\r\n\t\t\tthis.goTo(this.prevIndex as number);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic stopAutoPlay = () => {\r\n\t\tclearTimeout(this.#autoplayTimeout);\r\n\t};\r\n\r\n\tpublic changeTriggerEvent = (eventName: TriggerEvents) => {\r\n\t\tif (eventName in TriggerEvents) {\r\n\t\t\tthis.removeListenersForTabs();\r\n\t\t\tthis.triggerEvent = eventName;\r\n\t\t\tthis.addListenersForTabs();\r\n\t\t} else if (this.devMode) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Icorrect type of event. Correct types are: ${Object.values(TriggerEvents).join(', ')} | Некорректный тип события. Правильные типы: ${Object.values(TriggerEvents).join(', ')}`,\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate runAutoPlay = () => {\r\n\t\tthis.#autoplayTimeout = setTimeout(() => {\r\n\t\t\tthis.goTo(this.nextIndex as number, false);\r\n\t\t\tthis.runAutoPlay();\r\n\t\t}, this.#autoplay.delay);\r\n\t};\r\n\r\n\tprivate addListenersForTabs = () => {\r\n\t\tthis.tabsWrapper.addEventListener(this.triggerEvent, this.clickHandler);\r\n\t\twindow.addEventListener('keydown', this.keydownHandler);\r\n\t};\r\n\r\n\tprivate removeListenersForTabs = () => {\r\n\t\tthis.tabsWrapper.removeEventListener(this.triggerEvent, this.clickHandler);\r\n\t\twindow.removeEventListener('keydown', this.keydownHandler);\r\n\t};\r\n\r\n\tprivate clickHandler = (event: MouseEvent) => {\r\n\t\tif (this.isInMatchMedia) {\r\n\t\t\tthis.stopAutoPlay();\r\n\t\t\tconst { targetIndex, targetButton } = this.getEventDetails(event);\r\n\t\t\tif (targetIndex !== undefined && this.tabs.includes(targetButton)) {\r\n\t\t\t\tthis.goTo(+targetIndex);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tprivate keydownHandler = (event: KeyboardEvent) => {\r\n\t\tif (this.isInMatchMedia) {\r\n\t\t\tconst eventDetails: EventDetailsModel = this.getEventDetails(event);\r\n\t\t\tconst { targetButton, targetIndex, key } = eventDetails;\r\n\t\t\tif (targetButton && targetIndex !== undefined && this.tabs.includes(targetButton)) {\r\n\t\t\t\tthis.stopAutoPlay();\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase KEYS.LEFT:\r\n\t\t\t\t\tcase KEYS.RIGHT: {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tif (this.orientation === 'horizontal') {\r\n\t\t\t\t\t\t\tthis.switchTabOnArrowPress(eventDetails);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.UP:\r\n\t\t\t\t\tcase KEYS.DOWN: {\r\n\t\t\t\t\t\tevent.preventDefault(); // prevent page scroll\r\n\t\t\t\t\t\tif (this.orientation === 'vertical') {\r\n\t\t\t\t\t\t\tthis.switchTabOnArrowPress(eventDetails);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.DELETE: {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tthis.deleteTab(eventDetails);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.ENTER: {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tthis.goTo(+targetIndex);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.SPACE: {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\ttargetButton.click();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.END: {\r\n\t\t\t\t\t\tevent.preventDefault(); // prevent page scroll\r\n\t\t\t\t\t\tthis.focusTab(this.lastIndex as number);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase KEYS.HOME: {\r\n\t\t\t\t\t\tevent.preventDefault(); // prevent page scroll\r\n\t\t\t\t\t\tthis.focusTab(0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tprotected setUnactiveAll = () => {\r\n\t\tthis.setUnactiveAttributesAll();\r\n\t\t[this.tabs, this.panels].flat().forEach((element) => {\r\n\t\t\telement.classList.remove(CLASSES.ACTIVE);\r\n\t\t\telement.classList.add(CLASSES.UNACTIVE);\r\n\t\t});\r\n\t};\r\n\r\n\tprotected setUnactiveAttributesAll = () => {\r\n\t\tthis.tabs.forEach((tabElement) => {\r\n\t\t\ttabElement.setAttribute('tabindex', '-1');\r\n\t\t\ttabElement.setAttribute('aria-selected', 'false');\r\n\t\t});\r\n\t\tthis.panels.forEach((tabpanel) => {\r\n\t\t\ttabpanel.setAttribute('inert', 'true');\r\n\t\t});\r\n\t};\r\n\r\n\tprotected setActiveAttributes = (index: number) => {\r\n\t\tthis.tabs[index]?.setAttribute('tabindex', '0');\r\n\t\tthis.tabs[index]?.setAttribute('aria-selected', 'true');\r\n\t\tthis.panels[index].removeAttribute('inert');\r\n\t};\r\n\r\n\tprotected setActiveClasses = (index: number) => {\r\n\t\tthis.tabs[index]?.classList.remove(CLASSES.UNACTIVE);\r\n\t\tthis.tabs[index]?.classList.add(CLASSES.ACTIVE);\r\n\t\tthis.panels[index].classList.remove(CLASSES.UNACTIVE);\r\n\t\tthis.panels[index].classList.add(CLASSES.ACTIVE);\r\n\t};\r\n\r\n\tprotected focusTab = (order: number) => {\r\n\t\tthis.tabs[order]?.focus();\r\n\t};\r\n\r\n\t// When a tablist is aria-orientation is set to vertical, only up and down arrow\r\n\t// should function. In all other cases only left and right arrow function.\r\n\tprivate switchTabOnArrowPress = (eventDetails: EventDetailsModel) => {\r\n\t\tconst { key, targetIndex, event } = eventDetails;\r\n\t\tevent.preventDefault();\r\n\t\tswitch (key) {\r\n\t\t\tcase KEYS.LEFT:\r\n\t\t\tcase KEYS.UP: {\r\n\t\t\t\tif (targetIndex !== undefined) {\r\n\t\t\t\t\tconst nextIndex = targetIndex - 1 < 0 ? Number(this.lastIndex) : targetIndex - 1;\r\n\t\t\t\t\t// this.focusTab(nextIndex);\r\n\t\t\t\t\tif (this.triggerEvent === TriggerEvents.mouseover) {\r\n\t\t\t\t\t\tthis.goTo(nextIndex);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.focusTab(nextIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase KEYS.RIGHT:\r\n\t\t\tcase KEYS.DOWN: {\r\n\t\t\t\tif (targetIndex !== undefined) {\r\n\t\t\t\t\tconst nextIndex = targetIndex >= Number(this.lastIndex) ? 0 : targetIndex + 1;\r\n\t\t\t\t\t// this.focusTab(nextIndex);\r\n\t\t\t\t\tif (this.triggerEvent === TriggerEvents.mouseover) {\r\n\t\t\t\t\t\tthis.goTo(nextIndex);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.focusTab(nextIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Deletes a tab and its panel\r\n\tprivate deleteTab = (eventDetails: EventDetailsModel) => {\r\n\t\tconst { targetButton, targetIndex } = eventDetails;\r\n\t\tif (targetButton.dataset.deletable === 'true' && targetIndex !== undefined) {\r\n\t\t\tthis.tabs[targetIndex].remove();\r\n\t\t\tthis.panels[targetIndex].remove();\r\n\t\t\tthis.update();\r\n\t\t\tif (this.tabs.length > 0 && this.panels.length > 0) {\r\n\t\t\t\tconst newTabsLength = this.tabs.length - 1;\r\n\t\t\t\tif (targetIndex < this.activeIndex || this.activeIndex > newTabsLength) {\r\n\t\t\t\t\tthis.goTo(this.activeIndex - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.goTo(this.activeIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tprivate assignTabsAttributes = () => {\r\n\t\tthis.tabsWrapper.classList.add(CLASSES.TABS_WRAPPER);\r\n\t\tthis.tabsWrapper.setAttribute('aria-orientation', this.orientation);\r\n\t\tthis.tabButtonsList?.classList.add(CLASSES.TAB_LIST);\r\n\t\tthis.tabPanelsList?.classList.add(CLASSES.PANEL_LIST);\r\n\t\tthis.panels.forEach((panel, index) => {\r\n\t\t\tif (this.tabs[index]) {\r\n\t\t\t\tthis.tabs[index].classList.add(CLASSES.TAB);\r\n\t\t\t\tthis.tabs[index].setAttribute('aria-label', `${index}`);\r\n\t\t\t\tthis.tabs[index].setAttribute('role', this.#defaultRoles.tab);\r\n\t\t\t\tthis.tabs[index].setAttribute('id', `${this.generatedId}-tab-${index}`);\r\n\t\t\t\tthis.tabs[index].setAttribute('aria-controls', `${this.generatedId}-tabpanel-${index}`);\r\n\t\t\t\tthis.tabs[index].dataset.deletable = `${this.#deletableTabs}`;\r\n\t\t\t}\r\n\t\t\tpanel.classList.add(CLASSES.PANEL);\r\n\t\t\tpanel.setAttribute('aria-labelledby', `${this.generatedId}-tab-${index}`);\r\n\t\t\tpanel.setAttribute('id', `${this.generatedId}-tabpanel-${index}`);\r\n\t\t\tpanel.setAttribute('aria-label', `${index}`);\r\n\t\t\tpanel.setAttribute('role', this.#defaultRoles.tabpanel);\r\n\t\t});\r\n\t\tthis.setUnactiveAll();\r\n\t};\r\n\r\n\tprivate removeTabsAttributes = () => {\r\n\t\tthis.tabsWrapper.classList.remove(CLASSES.TABS_WRAPPER);\r\n\t\tthis.tabsWrapper.removeAttribute('aria-orientation');\r\n\t\tthis.tabButtonsList?.classList.remove(CLASSES.TAB_LIST);\r\n\t\tthis.tabPanelsList?.classList.remove(CLASSES.PANEL_LIST);\r\n\t\tthis.tabs.forEach((tab, index) => {\r\n\t\t\ttab.classList.remove(CLASSES.TAB);\r\n\t\t\ttab.classList.remove(CLASSES.ACTIVE);\r\n\t\t\ttab.classList.remove(CLASSES.UNACTIVE);\r\n\t\t\ttab.removeAttribute('tabindex');\r\n\t\t\ttab.removeAttribute('aria-label');\r\n\t\t\ttab.removeAttribute('aria-selected');\r\n\t\t\ttab.removeAttribute('role');\r\n\t\t\ttab.removeAttribute('id');\r\n\t\t\ttab.removeAttribute('aria-controls');\r\n\r\n\t\t\tdelete tab.dataset.deletable;\r\n\t\t\tthis.panels[index].classList.remove(CLASSES.PANEL);\r\n\t\t\tthis.panels[index].classList.remove(CLASSES.ACTIVE);\r\n\t\t\tthis.panels[index].classList.remove(CLASSES.UNACTIVE);\r\n\t\t\tthis.panels[index].removeAttribute('aria-labelledby');\r\n\t\t\tthis.panels[index].removeAttribute('id');\r\n\t\t\tthis.panels[index].removeAttribute('aria-label');\r\n\t\t\tthis.panels[index].removeAttribute('role');\r\n\t\t\tthis.panels[index].removeAttribute('inert');\r\n\t\t\tif (this.#equalHeight) {\r\n\t\t\t\tconst currentStyle = this.panels[index].getAttribute('style');\r\n\t\t\t\tif (currentStyle) {\r\n\t\t\t\t\tlet styles = currentStyle.split(';').filter((s) => s.trim() !== '');\r\n\t\t\t\t\tstyles = styles.filter((style) => !style.trim().toLowerCase().startsWith('height:'));\r\n\t\t\t\t\tconst newStyle = styles.join(';');\r\n\t\t\t\t\tthis.panels[index].setAttribute('style', newStyle);\r\n\t\t\t\t}\r\n\t\t\t\tthis.panels[index].removeAttribute('style');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tprivate getEventDetails = (event: KeyboardEvent | MouseEvent): EventDetailsModel => {\r\n\t\tconst key = event instanceof KeyboardEvent ? event.key : undefined;\r\n\t\tconst target = event.target as HTMLElement;\r\n\t\tconst targetTab = target.closest(this.#defaultSelectors.tab) as HTMLElement;\r\n\t\tconst targetIndex = targetTab?.getAttribute('aria-label');\r\n\t\treturn {\r\n\t\t\ttarget,\r\n\t\t\ttargetIndex: targetIndex ? +targetIndex : undefined,\r\n\t\t\ttargetButton: targetTab,\r\n\t\t\tkey,\r\n\t\t\tevent,\r\n\t\t};\r\n\t};\r\n\r\n\tprivate updateProperties = (): void => {\r\n\t\tthis.lastIndex = this.panels.length - 1;\r\n\t\tthis.nextIndex = this.activeIndex >= this.lastIndex ? 0 : this.activeIndex + 1;\r\n\t\tthis.prevIndex = this.activeIndex - 1 < 0 ? this.lastIndex : this.activeIndex - 1;\r\n\t};\r\n\r\n\tprivate updateAttributes = (): void => {\r\n\t\tthis.checkMatchMediaRule();\r\n\t\tif (this.isInMatchMedia) {\r\n\t\t\tthis.assignTabsAttributes();\r\n\t\t\tthis.goTo(this.activeIndex, false);\r\n\t\t} else {\r\n\t\t\tthis.removeTabsAttributes();\r\n\t\t}\r\n\t};\r\n\r\n\tprivate defineTabsAndPanels = () => {\r\n\t\tthis.tabs = getChildrenArray(this.tabButtonsList as HTMLElement);\r\n\t\tthis.panels = getChildrenArray(this.tabPanelsList as HTMLElement);\r\n\t};\r\n\r\n\tprivate checkMatchMediaRule = () => {\r\n\t\tthis.isInMatchMedia = !this.matchMediaRule || window.matchMedia(this.matchMediaRule).matches;\r\n\t};\r\n\r\n\tpublic update = () => {\r\n\t\tthis.checkMatchMediaRule();\r\n\t\tthis.defineTabsAndPanels();\r\n\t\tthis.updateAttributes();\r\n\t};\r\n\r\n\tpublic destroy = () => {\r\n\t\tthis.removeTabsAttributes();\r\n\t\tthis.removeListenersForTabs();\r\n\t\twindow.removeEventListener('resize', this.setEqualHeight);\r\n\t\tthis.#destroyed = true;\r\n\t};\r\n}\r\n"],"names":["CLASSES","KEYS","getChildrenArray","element","getRandomId","length","result","characters","charactersLength","counter","TriggerEvents","_tabpanelsListSelector","_tabbuttonsListSelector","_deletableTabs","_autoplay","_autoplayTimeout","_listenersAdded","_equalHeight","_destroyed","_inited","_defaultRoles","_defaultSelectors","Tabs","tabsWrapper","tabbuttonsListSelector","tabpanelsListSelector","deletableTabs","initialTab","equalHeight","orientation","triggerEvent","autoplay","on","matchMediaRule","developmentMode","__privateAdd","__publicField","maxHeight","index","setFocus","__privateGet","properties","_a","eventName","__privateSet","event","targetIndex","targetButton","eventDetails","key","tabElement","tabpanel","_b","order","nextIndex","newTabsLength","panel","tab","currentStyle","styles","s","style","newStyle","target","targetTab"],"mappings":"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"}